// import 同目錄的 web3.js
var web3 = require('./web3.js');

// import 同目錄的 eventEmitter.js
var eventEmitter = require('./eventEmitter.js');



var bumbcaseContract = web3.eth.contract([{"constant":false,"inputs":[],"name":"returnmyPlate","outputs":[{"name":"","type":"string"}],"payable":false,"type":"function"},{"constant":false,"inputs":[],"name":"returnotherPlate","outputs":[{"name":"","type":"string"}],"payable":false,"type":"function"},{"constant":false,"inputs":[],"name":"returnsign","outputs":[{"name":"","type":"string"}],"payable":false,"type":"function"},{"constant":false,"inputs":[],"name":"returnplace","outputs":[{"name":"","type":"string"}],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"_id","type":"uint256"},{"name":"_myPlate","type":"string"},{"name":"_otherPlate","type":"string"},{"name":"_condition","type":"string"},{"name":"_date","type":"string"},{"name":"_time","type":"string"},{"name":"_place","type":"string"},{"name":"_otherBehavior","type":"string"},{"name":"_myBehavior","type":"string"},{"name":"_speed","type":"uint256"},{"name":"_road","type":"string"},{"name":"_sign","type":"string"},{"name":"_broken","type":"string"},{"name":"_otherCond","type":"string"},{"name":"_photo","type":"string"},{"name":"_notes","type":"string"}],"name":"NewCase(uint256, string, string, string, string, string, string, string, string, uint256, string, string, string, string, string, string)","outputs":[],"payable":false,"type":"function"},{"constant":false,"inputs":[],"name":"returnnotes","outputs":[{"name":"","type":"string"}],"payable":false,"type":"function"},{"constant":false,"inputs":[],"name":"returnmyBehavior","outputs":[{"name":"","type":"string"}],"payable":false,"type":"function"},{"constant":false,"inputs":[],"name":"returnbroken","outputs":[{"name":"","type":"string"}],"payable":false,"type":"function"},{"constant":false,"inputs":[],"name":"returnroad","outputs":[{"name":"","type":"string"}],"payable":false,"type":"function"},{"constant":false,"inputs":[],"name":"returnid","outputs":[{"name":"","type":"uint256"}],"payable":false,"type":"function"},{"constant":false,"inputs":[],"name":"returnotherCond","outputs":[{"name":"","type":"string"}],"payable":false,"type":"function"},{"constant":false,"inputs":[],"name":"returnphoto","outputs":[{"name":"","type":"string"}],"payable":false,"type":"function"},{"constant":false,"inputs":[],"name":"returndate","outputs":[{"name":"","type":"string"}],"payable":false,"type":"function"},{"constant":false,"inputs":[],"name":"returnotherBehavior","outputs":[{"name":"","type":"string"}],"payable":false,"type":"function"},{"constant":false,"inputs":[],"name":"returnrecordNum","outputs":[{"name":"","type":"uint256"}],"payable":false,"type":"function"},{"constant":false,"inputs":[],"name":"returncondition","outputs":[{"name":"","type":"string"}],"payable":false,"type":"function"},{"constant":false,"inputs":[],"name":"returnspeed","outputs":[{"name":"","type":"uint256"}],"payable":false,"type":"function"},{"constant":false,"inputs":[],"name":"returntime","outputs":[{"name":"","type":"string"}],"payable":false,"type":"function"},{"inputs":[],"payable":false,"type":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"name":"from","type":"address"}],"name":"NewCaseEvent","type":"event"}]);
var bumbcase = bumbcaseContract.new({
        from: web3.eth.accounts[0],
        data: '0x6060604052600060005534610000575b33600160006101000a81548173ffffffffffffffffffffffffffffffffffffffff02191690836c010000000000000000000000009081020402179055505b5b61271f8061005c6000396000f3606060405236156100f4576000357c01000000000000000000000000000000000000000000000000000000009004806304c7bf31146100f95780631308ca011461017457806314f6ab01146101ef5780632059ff151461026a578063238e5d6b146102e557806328b19b44146106b557806331fd77d0146107305780636d9f74cc146107ab5780638280279914610826578063858d5639146108a157806390d03df3146108c45780639e7a61311461093f578063acf6018e146109ba578063cf30203414610a35578063cf9d7aef14610ab0578063d106bb9814610ad3578063e6be79ca14610b4e578063ea43a7df14610b71575b610000565b3461000057610106610bec565b60405180806020018281038252838181518152602001915080519060200190808383829060006004602084601f0104600302600f01f150905090810190601f1680156101665780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b3461000057610181610ccb565b60405180806020018281038252838181518152602001915080519060200190808383829060006004602084601f0104600302600f01f150905090810190601f1680156101e15780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b34610000576101fc610daa565b60405180806020018281038252838181518152602001915080519060200190808383829060006004602084601f0104600302600f01f150905090810190601f16801561025c5780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b3461000057610277610e89565b60405180806020018281038252838181518152602001915080519060200190808383829060006004602084601f0104600302600f01f150905090810190601f1680156102d75780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b34610000576106b3600480803590602001909190803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509190803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509190803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509190803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509190803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509190803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509190803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509190803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509190803590602001909190803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509190803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509190803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509190803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509190803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509190803590602001908201803590602001908080601f01602080910402602001604051908101604052809392919081815260200183838082843782019150505050505091905050610f68565b005b34610000576106c2611dca565b60405180806020018281038252838181518152602001915080519060200190808383829060006004602084601f0104600302600f01f150905090810190601f1680156107225780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b346100005761073d611ea9565b60405180806020018281038252838181518152602001915080519060200190808383829060006004602084601f0104600302600f01f150905090810190601f16801561079d5780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b34610000576107b8611f88565b60405180806020018281038252838181518152602001915080519060200190808383829060006004602084601f0104600302600f01f150905090810190601f1680156108185780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b3461000057610833612067565b60405180806020018281038252838181518152602001915080519060200190808383829060006004602084601f0104600302600f01f150905090810190601f1680156108935780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b34610000576108ae612146565b6040518082815260200191505060405180910390f35b34610000576108d161217b565b60405180806020018281038252838181518152602001915080519060200190808383829060006004602084601f0104600302600f01f150905090810190601f1680156109315780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b346100005761094c61225a565b60405180806020018281038252838181518152602001915080519060200190808383829060006004602084601f0104600302600f01f150905090810190601f1680156109ac5780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b34610000576109c7612339565b60405180806020018281038252838181518152602001915080519060200190808383829060006004602084601f0104600302600f01f150905090810190601f168015610a275780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b3461000057610a42612418565b60405180806020018281038252838181518152602001915080519060200190808383829060006004602084601f0104600302600f01f150905090810190601f168015610aa25780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b3461000057610abd6124f7565b6040518082815260200191505060405180910390f35b3461000057610ae061252c565b60405180806020018281038252838181518152602001915080519060200190808383829060006004602084601f0104600302600f01f150905090810190601f168015610b405780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b3461000057610b5b61260b565b6040518082815260200191505060405180910390f35b3461000057610b7e612640565b60405180806020018281038252838181518152602001915080519060200190808383829060006004602084601f0104600302600f01f150905090810190601f168015610bde5780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b6020604051908101604052806000815260200150600260003373ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206002018054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015610cc05780601f10610c9557610100808354040283529160200191610cc0565b820191906000526020600020905b815481529060010190602001808311610ca357829003601f168201915b505050505090505b90565b6020604051908101604052806000815260200150600260003373ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206003018054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015610d9f5780601f10610d7457610100808354040283529160200191610d9f565b820191906000526020600020905b815481529060010190602001808311610d8257829003601f168201915b505050505090505b90565b6020604051908101604052806000815260200150600260003373ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600c018054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015610e7e5780601f10610e5357610100808354040283529160200191610e7e565b820191906000526020600020905b815481529060010190602001808311610e6157829003601f168201915b505050505090505b90565b6020604051908101604052806000815260200150600260003373ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206007018054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015610f5d5780601f10610f3257610100808354040283529160200191610f5d565b820191906000526020600020905b815481529060010190602001808311610f4057829003601f168201915b505050505090505b90565b60016000600082825401925050819055508f60026000600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206000018190555060005460026000600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600101819055508e60026000600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206002019080519060200190828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f106110b957805160ff19168380011785556110e7565b828001600101855582156110e7579182015b828111156110e65782518255916020019190600101906110cb565b5b50905061110c91905b808211156111085760008160009055506001016110f0565b5090565b50508d60026000600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206003019080519060200190828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f106111a657805160ff19168380011785556111d4565b828001600101855582156111d4579182015b828111156111d35782518255916020019190600101906111b8565b5b5090506111f991905b808211156111f55760008160009055506001016111dd565b5090565b50508c60026000600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206004019080519060200190828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f1061129357805160ff19168380011785556112c1565b828001600101855582156112c1579182015b828111156112c05782518255916020019190600101906112a5565b5b5090506112e691905b808211156112e25760008160009055506001016112ca565b5090565b50508b60026000600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206005019080519060200190828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f1061138057805160ff19168380011785556113ae565b828001600101855582156113ae579182015b828111156113ad578251825591602001919060010190611392565b5b5090506113d391905b808211156113cf5760008160009055506001016113b7565b5090565b50508a60026000600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206006019080519060200190828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f1061146d57805160ff191683800117855561149b565b8280016001018555821561149b579182015b8281111561149a57825182559160200191906001019061147f565b5b5090506114c091905b808211156114bc5760008160009055506001016114a4565b5090565b50508960026000600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206007019080519060200190828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f1061155a57805160ff1916838001178555611588565b82800160010185558215611588579182015b8281111561158757825182559160200191906001019061156c565b5b5090506115ad91905b808211156115a9576000816000905550600101611591565b5090565b50508860026000600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206008019080519060200190828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f1061164757805160ff1916838001178555611675565b82800160010185558215611675579182015b82811115611674578251825591602001919060010190611659565b5b50905061169a91905b8082111561169657600081600090555060010161167e565b5090565b50508760026000600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206009019080519060200190828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f1061173457805160ff1916838001178555611762565b82800160010185558215611762579182015b82811115611761578251825591602001919060010190611746565b5b50905061178791905b8082111561178357600081600090555060010161176b565b5090565b50508660026000600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600a01819055508560026000600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600b019080519060200190828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f1061187457805160ff19168380011785556118a2565b828001600101855582156118a2579182015b828111156118a1578251825591602001919060010190611886565b5b5090506118c791905b808211156118c35760008160009055506001016118ab565b5090565b50508460026000600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600c019080519060200190828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f1061196157805160ff191683800117855561198f565b8280016001018555821561198f579182015b8281111561198e578251825591602001919060010190611973565b5b5090506119b491905b808211156119b0576000816000905550600101611998565b5090565b50508360026000600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600d019080519060200190828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f10611a4e57805160ff1916838001178555611a7c565b82800160010185558215611a7c579182015b82811115611a7b578251825591602001919060010190611a60565b5b509050611aa191905b80821115611a9d576000816000905550600101611a85565b5090565b50508260026000600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600e019080519060200190828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f10611b3b57805160ff1916838001178555611b69565b82800160010185558215611b69579182015b82811115611b68578251825591602001919060010190611b4d565b5b509050611b8e91905b80821115611b8a576000816000905550600101611b72565b5090565b50508160026000600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600f019080519060200190828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f10611c2857805160ff1916838001178555611c56565b82800160010185558215611c56579182015b82811115611c55578251825591602001919060010190611c3a565b5b509050611c7b91905b80821115611c77576000816000905550600101611c5f565b5090565b50508060026000600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206010019080519060200190828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f10611d1557805160ff1916838001178555611d43565b82800160010185558215611d43579182015b82811115611d42578251825591602001919060010190611d27565b5b509050611d6891905b80821115611d64576000816000905550600101611d4c565b5090565b50507f806f25b88f5d4652800e77ef52244a71cb3baa0cf72c07ebcd8cf9787c6de0d233604051808273ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390a15b50505050505050505050505050505050565b6020604051908101604052806000815260200150600260003373ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206010018054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015611e9e5780601f10611e7357610100808354040283529160200191611e9e565b820191906000526020600020905b815481529060010190602001808311611e8157829003601f168201915b505050505090505b90565b6020604051908101604052806000815260200150600260003373ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206009018054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015611f7d5780601f10611f5257610100808354040283529160200191611f7d565b820191906000526020600020905b815481529060010190602001808311611f6057829003601f168201915b505050505090505b90565b6020604051908101604052806000815260200150600260003373ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600d018054600181600116156101000203166002900480601f01602080910402602001604051908101604052809291908181526020018280546001816001161561010002031660029004801561205c5780601f106120315761010080835404028352916020019161205c565b820191906000526020600020905b81548152906001019060200180831161203f57829003601f168201915b505050505090505b90565b6020604051908101604052806000815260200150600260003373ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600b018054600181600116156101000203166002900480601f01602080910402602001604051908101604052809291908181526020018280546001816001161561010002031660029004801561213b5780601f106121105761010080835404028352916020019161213b565b820191906000526020600020905b81548152906001019060200180831161211e57829003601f168201915b505050505090505b90565b6000600260003373ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206000015490505b90565b6020604051908101604052806000815260200150600260003373ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600e018054600181600116156101000203166002900480601f01602080910402602001604051908101604052809291908181526020018280546001816001161561010002031660029004801561224f5780601f106122245761010080835404028352916020019161224f565b820191906000526020600020905b81548152906001019060200180831161223257829003601f168201915b505050505090505b90565b6020604051908101604052806000815260200150600260003373ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600f018054600181600116156101000203166002900480601f01602080910402602001604051908101604052809291908181526020018280546001816001161561010002031660029004801561232e5780601f106123035761010080835404028352916020019161232e565b820191906000526020600020905b81548152906001019060200180831161231157829003601f168201915b505050505090505b90565b6020604051908101604052806000815260200150600260003373ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206005018054600181600116156101000203166002900480601f01602080910402602001604051908101604052809291908181526020018280546001816001161561010002031660029004801561240d5780601f106123e25761010080835404028352916020019161240d565b820191906000526020600020905b8154815290600101906020018083116123f057829003601f168201915b505050505090505b90565b6020604051908101604052806000815260200150600260003373ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206008018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156124ec5780601f106124c1576101008083540402835291602001916124ec565b820191906000526020600020905b8154815290600101906020018083116124cf57829003601f168201915b505050505090505b90565b6000600260003373ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206001015490505b90565b6020604051908101604052806000815260200150600260003373ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206004018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156126005780601f106125d557610100808354040283529160200191612600565b820191906000526020600020905b8154815290600101906020018083116125e357829003601f168201915b505050505090505b90565b6000600260003373ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600a015490505b90565b6020604051908101604052806000815260200150600260003373ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206006018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156127145780601f106126e957610100808354040283529160200191612714565b820191906000526020600020905b8154815290600101906020018083116126f757829003601f168201915b505050505090505b9056',
        gas: '4700000'
    }, function (e, contract){
        if(!e) {
            if(!contract.address) {
                console.log("Contract transaction send: TransactionHash: " + contract.transactionHash + " waiting to be mined...");
            } else {
                console.log('Contract mined! address: ' + contract.address + ' transactionHash: ' + contract.transactionHash);
                bumbcase.NewCaseEvent({},function(err,event){
                    eventEmitter.emit('NewCaseEvent: '+event.args.from,event.args)
                })
            }
        }
 })


module.exports = bumbcase
